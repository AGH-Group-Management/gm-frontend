<div class="filter-container">
    <label for="filter-input">Szukaj: </label>
    <mat-form-field appearance="fill">
        <input id="filter-input" matInput (keyup)="applyFilter($event)" placeholder="Filtruj dane">
    </mat-form-field>
</div>
<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort #requestsTbSort="matSort" class="mat-elevation-z8">
  
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>
  
      <ng-container matColumnDef="fullname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Imię i nazwisko </th>
        <td mat-cell *matCellDef="let element"> {{element.fullname}} </td>
      </ng-container>
  
      <ng-container matColumnDef="indexNo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Numer indeksu </th>
        <td mat-cell *matCellDef="let element"> {{element.indexNo }} </td>
      </ng-container>
      
      <ng-container matColumnDef="requestTitle">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Tytuł wniosku </th>
        <td mat-cell *matCellDef="let element"> {{element.requestTitle}} </td>
      </ng-container>

      <ng-container matColumnDef="requestType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Typ wniosku </th>
        <td mat-cell *matCellDef="let element"> {{element.requestType}} </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Data złożenia </th>
        <td mat-cell *matCellDef="let element"> {{element.date}} </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
        <td mat-cell *matCellDef="let element"> {{element.status}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Akcje </th>
        <td mat-cell *matCellDef="let element" class="actions-col">
            @if (element.status === 'Oczekuje na odpowiedź') {
                <button mat-raised-button color="primary" (click)="acceptRequest(element)">Akceptuj</button>
                <button mat-raised-button color="warn" (click)="rejectRequest(element)">Odrzuć</button>
            }
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
  </div>
  