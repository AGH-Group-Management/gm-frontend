<section class="course-list">
  <mat-form-field>
    <mat-label>Semestr</mat-label>
    <mat-select
      (selectionChange)="selectSemester($event)"
      [(value)]="selectedSemester"
    >
      @for (semester of semesters; track semester) {
      <mat-option [value]="semester.id">{{
        semester.semester_name
      }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <div class="courses">
    <div class="action-buttons">
      <button mat-button (click)="accordion.openAll()">Rozwiń wszystkie</button>
      <button mat-button (click)="accordion.closeAll()">Zwiń wszystkie</button>
    </div>
    <mat-accordion multi>
      @for (course of courses; track course.id; let i = $index) {
      <mat-expansion-panel>
        <mat-expansion-panel-header class="panel-course-name">
          <mat-panel-title> {{ course.name }} </mat-panel-title>
        </mat-expansion-panel-header>
        <app-course-student-table
          [courseData]="course"
          [index]="i"
        ></app-course-student-table>
      </mat-expansion-panel>
      }
    </mat-accordion>
  </div>
</section>
